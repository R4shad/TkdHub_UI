<div class="col-12">
  <div class="participants mt-4 mb-2">
    <p class="cant">Cantidad de Participantes: {{participants.length}}</p>
    <div>
      <i class="fa fa-plus" aria-hidden="true" (click)="addParticipant()"></i>
    </div>
  </div>
</div>
<div class="container-fluid d-flex justify-content-center mt-4" *ngIf="participantsFilter">
  <div class="row col-10 ">
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead>
          <tr class="bg text-white">
            <th (click)="toggleOrder('lastNames')">Apellidos
              <span *ngIf="orderBy === 'lastNames' && orderDirection === 'asc'" class="fa fa-arrow-up"></span>
              <span *ngIf="orderBy === 'lastNames' && orderDirection === 'desc'" class="fa fa-arrow-down"></span>
              <span *ngIf="orderDirection === 'normal' ">⇅</span>
            </th>
            <th (click)="toggleOrder('firstNames')">Nombres
              <span *ngIf="orderBy === 'firstNames' && orderDirection === 'asc'" class="fa fa-arrow-up"></span>
              <span *ngIf="orderBy === 'firstNames' && orderDirection === 'desc'" class="fa fa-arrow-down"></span>
              <span *ngIf="orderDirection === 'normal'">⇅</span>
            </th>
            <th (click)="toggleOrder('age')">Edad
              <span *ngIf="orderBy === 'age' && orderDirection === 'asc'" class="fa fa-arrow-up"></span>
              <span *ngIf="orderBy === 'age' && orderDirection === 'desc'" class="fa fa-arrow-down"></span>
              <span *ngIf="orderDirection === 'normal'">⇅</span>
            </th>
            <th (click)="toggleOrder('weight')">Peso
              <span *ngIf="orderBy === 'weight' && orderDirection === 'asc'" class="fa fa-arrow-up"></span>
              <span *ngIf="orderBy === 'weight' && orderDirection === 'desc'" class="fa fa-arrow-down"></span>
              <span *ngIf="orderDirection === 'normal'">⇅</span>
            </th>
            <th (click)="toggleOrder('grade')">Grado
              <span *ngIf="orderBy === 'grade' && orderDirection === 'asc'" class="fa fa-arrow-up"></span>
              <span *ngIf="orderBy === 'grade' && orderDirection === 'desc'" class="fa fa-arrow-down"></span>
              <span *ngIf="orderDirection === 'normal'">⇅</span>
            </th>
            <th (click)="toggleOrder('gender')">Sexo
              <span *ngIf="orderBy === 'gender' && orderDirection === 'asc'" class="fa fa-arrow-up"></span>
              <span *ngIf="orderBy === 'gender' && orderDirection === 'desc'" class="fa fa-arrow-down"></span>
              <span *ngIf="orderBy !== 'gender' && orderDirection === 'normal'">⇅</span>
            </th>
            <th>
              <span>Division</span>
            </th>
            <th>
              <span>Categoria</span>
            </th>
            <th>Acciones
              <span>Acciones</span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let participant of participantsFilter" class="text-S">
            <td>
              <div *ngIf="participant.isEdit">
                <input class="form-control text-S" type="text" [(ngModel)]="participant.lastNames">
              </div>
              <div *ngIf="!participant.isEdit">
                {{ participant.lastNames }}
              </div>
            </td>
            <td>
              <div *ngIf="participant.isEdit">
                <input class="form-control text-S" type="text" [(ngModel)]="participant.firstNames">
              </div>
              <div *ngIf="!participant.isEdit">
                {{ participant.firstNames }}
              </div>
            </td>
            <td>
              <div *ngIf="participant.isEdit">
                <input class="form-control text-S" type="text" [(ngModel)]="participant.age">
              </div>
              <div *ngIf="!participant.isEdit">
                {{ participant.age }}
              </div>
            </td>
            <td>
              <div *ngIf="participant.isEdit">
                <input class="form-control text-S" type="text" [(ngModel)]="participant.weight">
              </div>
              <div *ngIf="!participant.isEdit">
                {{ participant.weight }}
              </div>
            </td>
            <td>
              <div *ngIf="participant.isEdit">
                <select class="form-select text-S" [(ngModel)]="participant.grade">
                  <option *ngFor="let grade of validGrades" [value]="grade">{{ grade }}</option>
                </select>
              </div>
              <div *ngIf="!participant.isEdit">
                {{ participant.grade }}
              </div>
            </td>
            <td>
              <div *ngIf="participant.isEdit">
                <select class="form-select text-S" [(ngModel)]="participant.gender">
                  <option [value]="'Masculino'">Masculino</option>
                  <option [value]="'Femenino'">Femenino</option>
                </select>
              </div>
              <div *ngIf="!participant.isEdit">
                {{ participant.gender }}
              </div>
            </td>
            <td>
              {{ participant.division }}
            </td>
            <td>
              {{ participant.category }}
            </td>
            <td class="text-center">
              <div *ngIf="!participant.isEdit">
                <i class="fa fa-pencil px-2" aria-hidden="true" (click)="onEdit(participant)"></i>
                <i class="fa fa-trash" aria-hidden="true" (click)="onDelete(participant)"></i>
              </div>
              <div *ngIf="participant.isEdit">
                <i class="fa fa-floppy-o px-2" aria-hidden="true" (click)="confirmEdit(participant)"></i>
                <i class="fa fa-times-circle" aria-hidden="true" (click)="cancelEdit(participant)"></i>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>